import{c as _,d as q,u as E,a as d,h as $,i as F,b as e,F as N,k as D,o,e as s,f as a,t as h,n as Z,w as J,_ as L,g as Q,m as S,r as v,j as x,l as X,S as ee,p as te,q as f,s as p}from"./index-DVPCjXsa.js";import{H as se,U as T}from"./HeaderView-ChOleS1t.js";import{d as I,s as U,_ as A,R as ae,A as re,k as oe,O as ie,V as de,F as le,M as ne,N as ce,T as ue}from"./db-B1sE8bw5.js";import{C as pe,S as V,T as K}from"./sessions-BxwkG9K-.js";const he=_("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const ve=_("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);const xe=_("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const j=_("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const H=_("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const R=_("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),me={key:0,class:"space-y-4 mb-10 animate-fade-in-down"},be={class:"grid gap-4"},ye=["onClick"],ge={class:"flex items-center gap-5"},we={class:"h-12 w-12 bg-primary/10 rounded-xl flex items-center justify-center border border-primary/20 shadow-neon"},fe={class:"space-y-2"},ke={class:"flex items-center gap-3"},_e={class:"font-bold text-lg text-white tracking-tight uppercase"},Ie={class:"flex flex-wrap gap-2 mt-1"},Ae={class:"text-[10px] text-white/20 font-mono tracking-widest uppercase"},Me={class:"flex items-center gap-3"},Ve=["onClick"],Ne={class:"p-2 rounded-xl bg-white/5 border border-white/10 group-hover:neon-border transition-all duration-500"},Ce=q({__name:"PastMatchesView",props:{activeSessions:{},boardId:{}},emits:["deleteSession","resume"],setup(P,{emit:C}){const u=P,m=C,b=E(),g=F(()=>u.activeSessions.filter(l=>l.status==="finished").sort((l,y)=>y.lastPlayed-l.lastPlayed)),k=l=>{l.boardId!==u.boardId?b.push(`/games/${l.gameId}/${l.boardId}`):m("resume")};return(l,y)=>g.value.length>0?(o(),d("div",me,[e("div",be,[(o(!0),d(N,null,D(g.value,n=>(o(),d("div",{key:n.boardId,class:"p-5 glass-dark rounded-2xl border border-white/5 hover:border-primary/20 hover:shadow-glass-dark transition-all duration-300 cursor-pointer group flex items-center justify-between",onClick:c=>k(n)},[e("div",ge,[e("div",we,[s(a(pe),{class:"w-6 h-6 text-primary"})]),e("div",fe,[e("div",ke,[e("p",_e,h(n.gameName),1),y[0]||(y[0]=e("span",{class:"text-[9px] bg-primary/10 text-primary px-2 py-0.5 rounded-full border border-primary/30 uppercase font-black tracking-tighter shadow-neon"},"Verified",-1))]),e("div",Ie,[(o(!0),d(N,null,D(n.participants,(c,w)=>(o(),d("span",{key:w,class:Z(["text-[9px] px-2 py-0.5 rounded-md border uppercase font-bold tracking-tight",c.isYou?"bg-primary/20 border-primary/40 text-primary shadow-[0_0_8px_rgba(16,185,129,0.2)]":"bg-white/5 border-white/10 text-white/40"])},h(c.isYou?"Identity Match":c.name)+h(c.isHost?" ðŸ‘‘":""),3))),128))]),e("p",Ae," Sector: "+h(n.boardId.slice(0,8))+" â€¢ "+h(new Date(n.lastPlayed).toLocaleTimeString()),1)])]),e("div",Me,[e("button",{class:"h-10 w-10 flex items-center justify-center text-white/20 hover:text-rose-500 hover:bg-rose-500/10 transition-all rounded-xl border border-transparent hover:border-rose-500/30",onClick:J(c=>m("deleteSession",n.boardId),["stop"])},[s(a(H),{class:"w-5 h-5"})],8,Ve),e("div",Ne,[s(a(he),{class:"w-4 h-4 text-white/20 group-hover:text-primary transition-colors"})])])],8,ye))),128))])])):$("",!0)}}),Se=L(Ce,[["__scopeId","data-v-d3aac436"]]),Te={class:"min-h-screen bg-background"},$e={class:"max-w-4xl mx-auto p-6 space-y-12"},De={key:0,class:"space-y-10 animate-fade-in-up"},Pe={class:"flex items-center gap-4"},Ue={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},je={class:"glass-dark p-8 rounded-3xl space-y-8 border border-white/5 shadow-glass-dark group hover:border-primary/20 transition-all duration-500"},Re={class:"flex items-center gap-4"},qe={class:"relative"},Ee={class:"w-16 h-16 rounded-2xl bg-primary/10 border border-primary/20 flex items-center justify-center overflow-hidden shadow-neon"},Fe=["src"],Le={class:"space-y-6"},He={class:"space-y-2"},Oe={class:"space-y-2"},ze={class:"space-y-2"},Ye={class:"flex items-center gap-3 bg-white/5 p-3 rounded-xl border border-white/10 group-hover:neon-border transition-all duration-500"},Be={class:"text-sm text-white/70 break-all select-all font-mono"},Ge={class:"glass-dark p-8 rounded-3xl space-y-8 border border-white/5 shadow-glass-dark group hover:border-primary/20 transition-all duration-500"},We={class:"flex items-center gap-3"},Ze={class:"space-y-6"},Je={class:"space-y-2"},Qe={class:"flex items-start gap-3 bg-white/5 p-4 rounded-xl border border-white/10 group-hover:neon-border transition-all duration-500"},Xe={class:"text-[11px] text-white/50 break-all select-all font-mono leading-relaxed"},et={class:"space-y-3"},tt={class:"pt-8"},st=["disabled"],at={key:0,class:"flex items-center justify-center gap-3"},rt={key:0,class:"space-y-8 pt-8"},ot={class:"flex items-center gap-4"},it={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},dt={class:"max-w-3xl"},lt={class:"space-y-8 pt-8"},nt={class:"flex items-center gap-4"},ct={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},ut={class:"glass-dark p-6 rounded-3xl border border-white/5 space-y-6"},pt={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ht={class:"space-y-2"},vt={class:"space-y-2"},xt=["disabled"],mt={key:0,class:"space-y-4"},bt={class:"flex items-start justify-between gap-4"},yt={class:"flex-1 space-y-3"},gt={class:"flex items-center gap-3"},wt={class:"w-10 h-10 rounded-xl bg-primary/10 border border-primary/20 flex items-center justify-center"},ft={class:"text-lg font-bold text-white"},kt={class:"text-[10px] text-white/40 uppercase tracking-wider"},_t={class:"flex items-start gap-2 bg-white/5 p-3 rounded-xl border border-white/10"},It={class:"text-[11px] text-white/50 break-all select-all font-mono"},At=["onClick"],Mt={key:1,class:"glass-dark p-8 rounded-3xl border border-white/5 text-center"},Vt={class:"pt-12 mt-12 border-t border-destructive/20 space-y-8 animate-fade-in-up",style:{"animation-delay":"0.2s"}},Nt={class:"flex items-center gap-4"},Ct={class:"p-3 bg-destructive/10 rounded-2xl border border-destructive/20 shadow-[0_0_20px_rgba(239,68,68,0.1)]"},St={class:"glass-dark p-8 rounded-3xl border border-destructive/10 shadow-glass-dark space-y-6"},Tt=["disabled"],$t={class:"space-y-4"},Dt={class:"mx-auto h-20 w-20 bg-destructive/10 rounded-[2.5rem] border border-destructive/20 flex items-center justify-center relative group"},Pt={class:"flex gap-4 pt-6 justify-end"},Ut=q({__name:"UserView",setup(P){const C=E(),u=v(null),m=v(""),b=v(""),g=v(""),k=v(!1),l=v(!1),y=v([]),n=v([]),c=v(""),w=v(""),M=v(!1);Q(async()=>{const t=await S.getInstance().getIdentity();t&&(u.value=t,m.value=t.name,b.value=t.avatar||"",g.value=t.subscriptionToken),y.value=await V.getSessions(),n.value=await I.getAllKnownIdentities()});const O=F(()=>u.value?m.value!==u.value.name||b.value!==(u.value.avatar||"")||g.value!==u.value.subscriptionToken:!1),z=async()=>{if(!m.value.trim()){p.error("Identity match requires a name");return}k.value=!0;try{const i=S.getInstance();await i.updateIdentity({name:m.value,avatar:b.value,subscriptionToken:g.value}),u.value=await i.getIdentity(),p.success("Identity Reconfigured",{description:"Your neural profile has been updated."})}catch{p.error("Encryption Phase Failed")}finally{k.value=!1}},Y=async i=>{await V.removeSession(i),y.value=await V.getSessions(),p.success("Match history deleted")},B=async()=>{l.value=!0;try{await S.getInstance().clearIdentity(),await V.clearAllSessions(),p.success("All Data Cleared"),C.replace("/")}catch{p.error("Wipe Operation Failed")}finally{l.value=!1}},G=async()=>{if(!c.value.trim()){p.error("Name required");return}if(!w.value.trim()){p.error("Public key required");return}M.value=!0;try{const i={id:`identity-${Date.now()}`,name:c.value.trim(),publicKey:w.value.trim(),addedAt:Date.now()};await I.addKnownIdentity(i),n.value=await I.getAllKnownIdentities(),c.value="",w.value="",p.success("Known Identity Added",{description:`${i.name} has been added to your network.`})}catch{p.error("Failed to add identity")}finally{M.value=!1}},W=async(i,t)=>{try{await I.deleteKnownIdentity(i),n.value=await I.getAllKnownIdentities(),p.success("Identity Removed",{description:`${t} has been removed from your network.`})}catch{p.error("Failed to remove identity")}};return(i,t)=>(o(),d("div",Te,[e("div",$e,[s(se),u.value?(o(),d("div",De,[e("div",Pe,[e("div",Ue,[s(a(T),{class:"w-8 h-8 text-primary"})]),t[5]||(t[5]=e("h1",{class:"text-4xl font-black tracking-tight text-white uppercase"},[x("User "),e("span",{class:"text-gradient"},"Profile")],-1))]),e("div",Ke,[e("div",je,[e("div",Re,[e("div",qe,[e("div",Ee,[a(U)(b.value)?(o(),d("img",{key:0,src:a(U)(b.value),alt:"Avatar",class:"w-full h-full object-cover"},null,8,Fe)):(o(),X(a(T),{key:1,class:"w-8 h-8 text-primary"}))]),t[6]||(t[6]=e("div",{class:"absolute -bottom-1 -right-1 w-4 h-4 bg-primary rounded-full border-2 border-[#0A0A0A] shadow-neon"},null,-1))]),t[7]||(t[7]=e("div",{class:"space-y-1"},[e("h2",{class:"text-2xl font-bold text-white uppercase tracking-wide"},"Identity"),e("p",{class:"text-[10px] text-primary font-black uppercase tracking-widest"},"Active Node")],-1))]),e("div",Le,[e("div",He,[t[8]||(t[8]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Display Keyname",-1)),s(A,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),placeholder:"Enter identity name...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-bold"},null,8,["modelValue"])]),e("div",Oe,[t[9]||(t[9]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Avatar Vector (URL)",-1)),s(A,{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=r=>b.value=r),placeholder:"https://images.unsplash.com/...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono text-sm"},null,8,["modelValue"])]),e("div",ze,[t[10]||(t[10]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Node Identifier",-1)),e("div",Ye,[s(a(ve),{class:"w-5 h-5 text-primary/60 shrink-0"}),e("code",Be,h(u.value.id),1)])])])]),e("div",Ge,[e("div",We,[s(a(ee),{class:"w-6 h-6 text-yellow-500 drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]"}),t[11]||(t[11]=e("h2",{class:"text-2xl font-bold text-white uppercase tracking-wide"},"System Auth",-1))]),e("div",Ze,[e("div",Je,[t[12]||(t[12]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Public Key Vector",-1)),e("div",Qe,[s(a(j),{class:"w-5 h-5 text-primary/60 shrink-0 mt-1"}),e("code",Xe,h(u.value.publicKey),1)])]),e("div",et,[t[13]||(t[13]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Access Token",-1)),s(A,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=r=>g.value=r),placeholder:"Paste your node token...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono"},null,8,["modelValue"])])])])]),e("div",tt,[e("button",{onClick:z,disabled:k.value||!O.value,class:"w-full h-16 text-sm font-black uppercase tracking-[0.4em] rounded-2xl bg-primary text-primary-foreground shadow-[0_0_30px_rgba(16,185,129,0.2)] hover:shadow-[0_0_50px_rgba(16,185,129,0.4)] transition-all duration-500 border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed"},[k.value?(o(),d("div",at,[...t[14]||(t[14]=[e("div",{class:"h-5 w-5 animate-spin rounded-full border-2 border-white border-b-transparent"},null,-1),x(" Encrypting Profile Data... ",-1)])])):(o(),d(N,{key:1},[x("COMMIT NEURAL CONFIGURATION")],64))],8,st)]),y.value.length>0?(o(),d("div",rt,[e("div",ot,[e("div",it,[s(a(xe),{class:"w-6 h-6 text-primary"})]),t[15]||(t[15]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase"},[x("Game "),e("span",{class:"text-gradient"},"History")],-1))]),e("div",dt,[s(Se,{"active-sessions":y.value,onDeleteSession:Y},null,8,["active-sessions"])])])):$("",!0),e("div",lt,[e("div",nt,[e("div",ct,[s(a(R),{class:"w-6 h-6 text-primary"})]),t[16]||(t[16]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase"},[x(" Known "),e("span",{class:"text-gradient"},"Identities")],-1))]),e("div",ut,[t[19]||(t[19]=e("h3",{class:"text-lg font-bold text-white uppercase tracking-tight"},"Add New Identity",-1)),e("div",pt,[e("div",ht,[t[17]||(t[17]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Display Name",-1)),s(A,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=r=>c.value=r),placeholder:"Enter player name...",className:"h-12 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-bold"},null,8,["modelValue"])]),e("div",vt,[t[18]||(t[18]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Public Key",-1)),s(A,{modelValue:w.value,"onUpdate:modelValue":t[4]||(t[4]=r=>w.value=r),placeholder:"04...",className:"h-12 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono text-sm"},null,8,["modelValue"])])]),e("button",{onClick:G,disabled:M.value||!c.value.trim()||!w.value.trim(),class:"w-full h-12 text-xs font-black uppercase tracking-[0.2em] rounded-xl bg-primary/10 text-primary border border-primary/20 hover:bg-primary hover:text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"},h(M.value?"ADDING...":"ADD IDENTITY"),9,xt)]),n.value.length>0?(o(),d("div",mt,[(o(!0),d(N,null,D(n.value,r=>(o(),d("div",{key:r.id,class:"glass-dark p-6 rounded-3xl border border-white/5 hover:border-primary/20 transition-all duration-300"},[e("div",bt,[e("div",yt,[e("div",gt,[e("div",wt,[s(a(T),{class:"w-5 h-5 text-primary"})]),e("div",null,[e("h4",ft,h(r.name),1),e("p",kt,"Added "+h(new Date(r.addedAt).toLocaleDateString()),1)])]),e("div",_t,[s(a(j),{class:"w-4 h-4 text-primary/60 shrink-0 mt-0.5"}),e("code",It,h(r.publicKey),1)])]),e("button",{onClick:Kt=>W(r.id,r.name),class:"p-3 rounded-xl border border-white/10 text-white/60 hover:text-rose-500 hover:bg-rose-500/10 hover:border-rose-500/30 transition-all",title:"Remove identity"},[s(a(H),{class:"w-5 h-5"})],8,At)])]))),128))])):(o(),d("div",Mt,[s(a(R),{class:"w-12 h-12 text-white/20 mx-auto mb-3"}),t[20]||(t[20]=e("p",{class:"text-white/40 font-medium"},"No known identities yet",-1)),t[21]||(t[21]=e("p",{class:"text-white/30 text-sm mt-1"},"Add players you've played with to quickly identify them in future games",-1))]))]),e("div",Vt,[e("div",Nt,[e("div",Ct,[s(a(K),{class:"w-6 h-6 text-destructive"})]),t[22]||(t[22]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase italic"},[x("Danger "),e("span",{class:"text-destructive"},"Zone")],-1))]),e("div",St,[t[28]||(t[28]=te('<div class="space-y-2" data-v-7eac4daf><h3 class="text-xl font-bold text-white uppercase tracking-tight" data-v-7eac4daf>Purge All Neural Records</h3><p class="text-sm text-slate-400 font-medium leading-relaxed" data-v-7eac4daf> This action will permanently delete your <span class="text-destructive font-bold" data-v-7eac4daf>decentralized identity</span>, private keys, and <span class="text-destructive font-bold" data-v-7eac4daf>all match history</span> from this device. This cannot be undone. </p></div>',1)),s(a(ue),null,{default:f(()=>[s(a(ae),{asChild:""},{default:f(()=>[e("button",{disabled:l.value,class:"h-14 px-8 text-xs font-black uppercase tracking-[0.2em] rounded-xl border border-destructive/30 text-destructive hover:bg-destructive hover:text-white transition-all duration-300 disabled:opacity-50"},h(l.value?"PURGING DATA...":"INITIATE FULL DATA WIPE"),9,Tt)]),_:1}),s(a(re),null,{default:f(()=>[s(a(oe),{class:"bg-black/80 fixed inset-0 z-[100] backdrop-blur-sm"}),s(a(ie),{class:"glass-dark border border-destructive/20 rounded-[2rem] p-8 max-w-md fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[101]"},{default:f(()=>[e("div",$t,[e("div",Dt,[t[23]||(t[23]=e("div",{class:"absolute inset-0 bg-destructive/20 blur-2xl rounded-full opacity-50"},null,-1)),s(a(K),{class:"w-10 h-10 text-destructive relative z-10"})]),s(a(de),{class:"text-2xl font-black text-center tracking-tighter text-white uppercase"},{default:f(()=>[...t[24]||(t[24]=[x(" Confirm Neural Purge? ",-1)])]),_:1}),s(a(le),{class:"text-center text-slate-400 font-medium px-4"},{default:f(()=>[...t[25]||(t[25]=[x(" You are about to erase all local data. Your identity and game history will be lost forever. Are you absolutely certain? ",-1)])]),_:1})]),e("div",Pt,[s(a(ne),{class:"h-14 px-6 rounded-xl bg-white/5 border-white/10 text-white font-bold hover:bg-white/10 uppercase text-xs"},{default:f(()=>[...t[26]||(t[26]=[x(" ABORT ",-1)])]),_:1}),s(a(ce),{onClick:B,class:"h-14 px-6 rounded-xl bg-destructive text-white font-black uppercase tracking-widest shadow-[0_0_20px_rgba(239,68,68,0.3)] hover:bg-destructive/90 text-xs"},{default:f(()=>[...t[27]||(t[27]=[x(" WIPE DATA ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})])])])):$("",!0)])]))}}),Ft=L(Ut,[["__scopeId","data-v-7eac4daf"]]);export{Ft as default};
