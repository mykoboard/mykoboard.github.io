import{c}from"./index-I2Mp1HL8.js";import{d as s}from"./db-CMktUgXp.js";const g=c("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const u=c("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),h={async getSessions(){try{return await s.getAllGames()}catch(e){return console.error("Failed to load sessions",e),[]}},async getSession(e){try{return await s.getGame(e)}catch(t){return console.error("Failed to load session",t),null}},async saveSession(e){try{const t=await s.getGame(e.boardId),a=e.status||t?.status||"active",n=e.ledger||t?.ledger||[],i=e.participants||[],l=t?.participants||[],o=new Map;l.forEach(r=>o.set(r.id,r)),i.forEach(r=>o.set(r.id,r));const d=Array.from(o.values()),m={...e,status:a,ledger:n,participants:d,lastPlayed:Date.now()};await s.saveGame(m)}catch(t){console.error("Failed to save session",t)}},async updateStatus(e,t){try{const a=await s.getGame(e);a&&(a.status=t,await s.saveGame(a))}catch(a){console.error("Failed to update status",a)}},async updateLedger(e,t){try{const a=await s.getGame(e);a&&(a.ledger=t,a.lastPlayed=Date.now(),await s.saveGame(a))}catch(a){console.error("Failed to update ledger",a)}},async removeSession(e){try{await s.deleteGame(e)}catch(t){console.error("Failed to remove session",t)}},async clearAllSessions(){try{await s.clearAllGames()}catch(e){console.error("Failed to clear all sessions",e)}}};export{g as C,h as S,u as T};
