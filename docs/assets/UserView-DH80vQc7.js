import{c as _,d as j,h as D,a as l,i as S,b as e,F as C,k as N,e as a,u as s,t as m,n as F,w as q,f as L,o as i,_ as R,r as y,g as H,m as A,j as h,l as O,S as z,p as B,q as b,s as f}from"./index-D06-buoC.js";import{H as Y,U as $}from"./HeaderView-CWZwv6bT.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-COUWmShY.js";import{C as G,T as P}from"./triangle-alert-Bcd11_s2.js";import{S as k}from"./sessions-oMnIzMip.js";import{s as U,T as K,R as W,A as Z,k as J,O as Q,V as X,F as ee,M as te,N as ae}from"./index-88-F62Fv.js";const se=_("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const re=_("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);const oe=_("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const ie=_("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const le=_("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),de={key:0,class:"space-y-4 mb-10 animate-fade-in-down"},ne={class:"grid gap-4"},ce=["onClick"],pe={class:"flex items-center gap-5"},ue={class:"h-12 w-12 bg-primary/10 rounded-xl flex items-center justify-center border border-primary/20 shadow-neon"},he={class:"space-y-2"},ve={class:"flex items-center gap-3"},xe={class:"font-bold text-lg text-white tracking-tight uppercase"},be={class:"flex flex-wrap gap-2 mt-1"},me={class:"text-[10px] text-white/20 font-mono tracking-widest uppercase"},ye={class:"flex items-center gap-3"},ge=["onClick"],fe={class:"p-2 rounded-xl bg-white/5 border border-white/10 group-hover:neon-border transition-all duration-500"},we=j({__name:"PastMatchesView",props:{activeSessions:{},boardId:{}},emits:["deleteSession","resume"],setup(T,{emit:I}){const o=T,d=I,n=L(),v=D(()=>o.activeSessions.filter(r=>r.status==="finished").sort((r,c)=>c.lastPlayed-r.lastPlayed)),g=r=>{r.boardId!==o.boardId?n.push(`/games/${r.gameId}/${r.boardId}`):d("resume")};return(r,c)=>v.value.length>0?(i(),l("div",de,[e("div",ne,[(i(!0),l(C,null,N(v.value,p=>(i(),l("div",{key:p.boardId,class:"p-5 glass-dark rounded-2xl border border-white/5 hover:border-primary/20 hover:shadow-glass-dark transition-all duration-300 cursor-pointer group flex items-center justify-between",onClick:x=>g(p)},[e("div",pe,[e("div",ue,[a(s(G),{class:"w-6 h-6 text-primary"})]),e("div",he,[e("div",ve,[e("p",xe,m(p.gameName),1),c[0]||(c[0]=e("span",{class:"text-[9px] bg-primary/10 text-primary px-2 py-0.5 rounded-full border border-primary/30 uppercase font-black tracking-tighter shadow-neon"},"Verified",-1))]),e("div",be,[(i(!0),l(C,null,N(p.participants,(x,M)=>(i(),l("span",{key:M,class:F(["text-[9px] px-2 py-0.5 rounded-md border uppercase font-bold tracking-tight",x.isYou?"bg-primary/20 border-primary/40 text-primary shadow-[0_0_8px_rgba(16,185,129,0.2)]":"bg-white/5 border-white/10 text-white/40"])},m(x.isYou?"Identity Match":x.name)+m(x.isHost?" ðŸ‘‘":""),3))),128))]),e("p",me," Sector: "+m(p.boardId.slice(0,8))+" â€¢ "+m(new Date(p.lastPlayed).toLocaleTimeString()),1)])]),e("div",ye,[e("button",{class:"h-10 w-10 flex items-center justify-center text-white/20 hover:text-rose-500 hover:bg-rose-500/10 transition-all rounded-xl border border-transparent hover:border-rose-500/30",onClick:q(x=>d("deleteSession",p.boardId),["stop"])},[a(s(le),{class:"w-5 h-5"})],8,ge),e("div",fe,[a(s(se),{class:"w-4 h-4 text-white/20 group-hover:text-primary transition-colors"})])])],8,ce))),128))])])):S("",!0)}}),_e=R(we,[["__scopeId","data-v-d3aac436"]]),ke={class:"min-h-screen bg-background"},Ie={class:"max-w-4xl mx-auto p-6 space-y-12"},Me={key:0,class:"space-y-10 animate-fade-in-up"},Ae={class:"flex items-center gap-4"},Ve={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Ce={class:"glass-dark p-8 rounded-3xl space-y-8 border border-white/5 shadow-glass-dark group hover:border-primary/20 transition-all duration-500"},Te={class:"flex items-center gap-4"},Ne={class:"relative"},$e={class:"w-16 h-16 rounded-2xl bg-primary/10 border border-primary/20 flex items-center justify-center overflow-hidden shadow-neon"},Pe=["src"],Ue={class:"space-y-6"},je={class:"space-y-2"},De={class:"space-y-2"},Le={class:"space-y-2"},Re={class:"flex items-center gap-3 bg-white/5 p-3 rounded-xl border border-white/10 group-hover:neon-border transition-all duration-500"},Ee={class:"text-sm text-white/70 break-all select-all font-mono"},Fe={class:"glass-dark p-8 rounded-3xl space-y-8 border border-white/5 shadow-glass-dark group hover:border-primary/20 transition-all duration-500"},qe={class:"flex items-center gap-3"},He={class:"space-y-6"},Oe={class:"space-y-2"},ze={class:"flex items-start gap-3 bg-white/5 p-4 rounded-xl border border-white/10 group-hover:neon-border transition-all duration-500"},Be={class:"text-[11px] text-white/50 break-all select-all font-mono leading-relaxed"},Ye={class:"space-y-3"},Ge={class:"pt-8"},Ke=["disabled"],We={key:0,class:"flex items-center justify-center gap-3"},Ze={key:0,class:"space-y-8 pt-8"},Je={class:"flex items-center gap-4"},Qe={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},Xe={class:"max-w-3xl"},et={class:"pt-12 mt-12 border-t border-destructive/20 space-y-8 animate-fade-in-up",style:{"animation-delay":"0.2s"}},tt={class:"flex items-center gap-4"},at={class:"p-3 bg-destructive/10 rounded-2xl border border-destructive/20 shadow-[0_0_20px_rgba(239,68,68,0.1)]"},st={class:"glass-dark p-8 rounded-3xl border border-destructive/10 shadow-glass-dark space-y-6"},rt=["disabled"],ot={class:"space-y-4"},it={class:"mx-auto h-20 w-20 bg-destructive/10 rounded-[2.5rem] border border-destructive/20 flex items-center justify-center relative group"},lt={class:"flex gap-4 pt-6 justify-end"},dt=j({__name:"UserView",setup(T){const I=L(),o=y(null),d=y(""),n=y(""),v=y(""),g=y(!1),r=y(!1),c=y([]);H(async()=>{const t=await A.getInstance().getIdentity();t&&(o.value=t,d.value=t.name,n.value=t.avatar||"",v.value=t.subscriptionToken),c.value=await k.getSessions()});const p=D(()=>o.value?d.value!==o.value.name||n.value!==(o.value.avatar||"")||v.value!==o.value.subscriptionToken:!1),x=async()=>{if(!d.value.trim()){f.error("Identity match requires a name");return}g.value=!0;try{const u=A.getInstance();await u.updateIdentity({name:d.value,avatar:n.value,subscriptionToken:v.value}),o.value=await u.getIdentity(),f.success("Identity Reconfigured",{description:"Your neural profile has been updated."})}catch{f.error("Encryption Phase Failed")}finally{g.value=!1}},M=async u=>{await k.removeSession(u),c.value=await k.getSessions(),f.success("Match history deleted")},E=async()=>{r.value=!0;try{await A.getInstance().clearIdentity(),await k.clearAllSessions(),f.success("All Data Cleared"),I.replace("/")}catch{f.error("Wipe Operation Failed")}finally{r.value=!1}};return(u,t)=>(i(),l("div",ke,[e("div",Ie,[a(Y),o.value?(i(),l("div",Me,[e("div",Ae,[e("div",Ve,[a(s($),{class:"w-8 h-8 text-primary"})]),t[3]||(t[3]=e("h1",{class:"text-4xl font-black tracking-tight text-white uppercase"},[h("User "),e("span",{class:"text-gradient"},"Profile")],-1))]),e("div",Se,[e("div",Ce,[e("div",Te,[e("div",Ne,[e("div",$e,[s(U)(n.value)?(i(),l("img",{key:0,src:s(U)(n.value),alt:"Avatar",class:"w-full h-full object-cover"},null,8,Pe)):(i(),O(s($),{key:1,class:"w-8 h-8 text-primary"}))]),t[4]||(t[4]=e("div",{class:"absolute -bottom-1 -right-1 w-4 h-4 bg-primary rounded-full border-2 border-[#0A0A0A] shadow-neon"},null,-1))]),t[5]||(t[5]=e("div",{class:"space-y-1"},[e("h2",{class:"text-2xl font-bold text-white uppercase tracking-wide"},"Identity"),e("p",{class:"text-[10px] text-primary font-black uppercase tracking-widest"},"Active Node")],-1))]),e("div",Ue,[e("div",je,[t[6]||(t[6]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Display Keyname",-1)),a(V,{modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=w=>d.value=w),placeholder:"Enter identity name...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-bold"},null,8,["modelValue"])]),e("div",De,[t[7]||(t[7]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Avatar Vector (URL)",-1)),a(V,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=w=>n.value=w),placeholder:"https://images.unsplash.com/...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono text-sm"},null,8,["modelValue"])]),e("div",Le,[t[8]||(t[8]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Node Identifier",-1)),e("div",Re,[a(s(re),{class:"w-5 h-5 text-primary/60 shrink-0"}),e("code",Ee,m(o.value.id),1)])])])]),e("div",Fe,[e("div",qe,[a(s(z),{class:"w-6 h-6 text-yellow-500 drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]"}),t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-white uppercase tracking-wide"},"System Auth",-1))]),e("div",He,[e("div",Oe,[t[10]||(t[10]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Public Key Vector",-1)),e("div",ze,[a(s(ie),{class:"w-5 h-5 text-primary/60 shrink-0 mt-1"}),e("code",Be,m(o.value.publicKey),1)])]),e("div",Ye,[t[11]||(t[11]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Access Token",-1)),a(V,{modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=w=>v.value=w),placeholder:"Paste your node token...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono"},null,8,["modelValue"])])])])]),e("div",Ge,[e("button",{onClick:x,disabled:g.value||!p.value,class:"w-full h-16 text-sm font-black uppercase tracking-[0.4em] rounded-2xl bg-primary text-primary-foreground shadow-[0_0_30px_rgba(16,185,129,0.2)] hover:shadow-[0_0_50px_rgba(16,185,129,0.4)] transition-all duration-500 border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed"},[g.value?(i(),l("div",We,[...t[12]||(t[12]=[e("div",{class:"h-5 w-5 animate-spin rounded-full border-2 border-white border-b-transparent"},null,-1),h(" Encrypting Profile Data... ",-1)])])):(i(),l(C,{key:1},[h("COMMIT NEURAL CONFIGURATION")],64))],8,Ke)]),c.value.length>0?(i(),l("div",Ze,[e("div",Je,[e("div",Qe,[a(s(oe),{class:"w-6 h-6 text-primary"})]),t[13]||(t[13]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase"},[h("Game "),e("span",{class:"text-gradient"},"History")],-1))]),e("div",Xe,[a(_e,{"active-sessions":c.value,onDeleteSession:M},null,8,["active-sessions"])])])):S("",!0),e("div",et,[e("div",tt,[e("div",at,[a(s(P),{class:"w-6 h-6 text-destructive"})]),t[14]||(t[14]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase italic"},[h("Danger "),e("span",{class:"text-destructive"},"Zone")],-1))]),e("div",st,[t[20]||(t[20]=B('<div class="space-y-2" data-v-e1aad2b9><h3 class="text-xl font-bold text-white uppercase tracking-tight" data-v-e1aad2b9>Purge All Neural Records</h3><p class="text-sm text-slate-400 font-medium leading-relaxed" data-v-e1aad2b9> This action will permanently delete your <span class="text-destructive font-bold" data-v-e1aad2b9>decentralized identity</span>, private keys, and <span class="text-destructive font-bold" data-v-e1aad2b9>all match history</span> from this device. This cannot be undone. </p></div>',1)),a(s(K),null,{default:b(()=>[a(s(W),{asChild:""},{default:b(()=>[e("button",{disabled:r.value,class:"h-14 px-8 text-xs font-black uppercase tracking-[0.2em] rounded-xl border border-destructive/30 text-destructive hover:bg-destructive hover:text-white transition-all duration-300 disabled:opacity-50"},m(r.value?"PURGING DATA...":"INITIATE FULL DATA WIPE"),9,rt)]),_:1}),a(s(Z),null,{default:b(()=>[a(s(J),{class:"bg-black/80 fixed inset-0 z-[100] backdrop-blur-sm"}),a(s(Q),{class:"glass-dark border border-destructive/20 rounded-[2rem] p-8 max-w-md fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[101]"},{default:b(()=>[e("div",ot,[e("div",it,[t[15]||(t[15]=e("div",{class:"absolute inset-0 bg-destructive/20 blur-2xl rounded-full opacity-50"},null,-1)),a(s(P),{class:"w-10 h-10 text-destructive relative z-10"})]),a(s(X),{class:"text-2xl font-black text-center tracking-tighter text-white uppercase"},{default:b(()=>[...t[16]||(t[16]=[h(" Confirm Neural Purge? ",-1)])]),_:1}),a(s(ee),{class:"text-center text-slate-400 font-medium px-4"},{default:b(()=>[...t[17]||(t[17]=[h(" You are about to erase all local data. Your identity and game history will be lost forever. Are you absolutely certain? ",-1)])]),_:1})]),e("div",lt,[a(s(te),{class:"h-14 px-6 rounded-xl bg-white/5 border-white/10 text-white font-bold hover:bg-white/10 uppercase text-xs"},{default:b(()=>[...t[18]||(t[18]=[h(" ABORT ",-1)])]),_:1}),a(s(ae),{onClick:E,class:"h-14 px-6 rounded-xl bg-destructive text-white font-black uppercase tracking-widest shadow-[0_0_20px_rgba(239,68,68,0.3)] hover:bg-destructive/90 text-xs"},{default:b(()=>[...t[19]||(t[19]=[h(" WIPE DATA ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})])])])):S("",!0)])]))}}),xt=R(dt,[["__scopeId","data-v-e1aad2b9"]]);export{xt as default};
