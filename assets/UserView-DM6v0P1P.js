import{c as _,d as q,u as E,a as l,h as $,i as F,b as e,F as N,k as D,o,e as s,f as a,t as h,n as W,w as Z,g as J,m as S,r as v,j as x,l as Q,S as X,p as ee,q as f,s as p}from"./index-BA_VjZQg.js";import{_ as te,U as T}from"./HeaderView.vue_vue_type_script_setup_true_lang-Br0i3R6U.js";import{d as I,s as K,_ as A,R as se,A as ae,k as re,O as oe,V as ie,F as le,M as de,N as ne,T as ce}from"./db-CddmcO_S.js";import{C as ue,S as V,T as U}from"./sessions-EXKGHhYn.js";const pe=_("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const he=_("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);const ve=_("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const j=_("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const L=_("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);const R=_("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),xe={key:0,class:"space-y-4 mb-10 animate-fade-in-down"},me={class:"grid gap-4"},be=["onClick"],ye={class:"flex items-center gap-5"},ge={class:"h-12 w-12 bg-primary/10 rounded-xl flex items-center justify-center border border-primary/20 shadow-neon"},we={class:"space-y-2"},fe={class:"flex items-center gap-3"},ke={class:"font-bold text-lg text-white tracking-tight uppercase"},_e={class:"flex flex-wrap gap-2 mt-1"},Ie={class:"text-[10px] text-white/20 font-mono tracking-widest uppercase"},Ae={class:"flex items-center gap-3"},Me=["onClick"],Ve={class:"p-2 rounded-xl bg-white/5 border border-white/10 group-hover:neon-border transition-all duration-500"},Ne=q({__name:"PastMatchesView",props:{activeSessions:{},boardId:{}},emits:["deleteSession","resume"],setup(P,{emit:C}){const u=P,m=C,b=E(),g=F(()=>u.activeSessions.filter(d=>d.status==="finished").sort((d,y)=>y.lastPlayed-d.lastPlayed)),k=d=>{d.boardId!==u.boardId?b.push(`/games/${d.gameId}/${d.boardId}`):m("resume")};return(d,y)=>g.value.length>0?(o(),l("div",xe,[e("div",me,[(o(!0),l(N,null,D(g.value,n=>(o(),l("div",{key:n.boardId,class:"p-5 glass-dark rounded-2xl border border-white/5 hover:border-primary/20 hover:shadow-glass-dark transition-all duration-300 cursor-pointer group flex items-center justify-between",onClick:c=>k(n)},[e("div",ye,[e("div",ge,[s(a(ue),{class:"w-6 h-6 text-primary"})]),e("div",we,[e("div",fe,[e("p",ke,h(n.gameName),1),y[0]||(y[0]=e("span",{class:"text-[9px] bg-primary/10 text-primary px-2 py-0.5 rounded-full border border-primary/30 uppercase font-black tracking-tighter shadow-neon"},"Verified",-1))]),e("div",_e,[(o(!0),l(N,null,D(n.participants,(c,w)=>(o(),l("span",{key:w,class:W(["text-[9px] px-2 py-0.5 rounded-md border uppercase font-bold tracking-tight",c.isYou?"bg-primary/20 border-primary/40 text-primary shadow-[0_0_8px_rgba(16,185,129,0.2)]":"bg-white/5 border-white/10 text-white/40"])},h(c.isYou?"Identity Match":c.name)+h(c.isHost?" ðŸ‘‘":""),3))),128))]),e("p",Ie," Sector: "+h(n.boardId.slice(0,8))+" â€¢ "+h(new Date(n.lastPlayed).toLocaleTimeString()),1)])]),e("div",Ae,[e("button",{class:"h-10 w-10 flex items-center justify-center text-white/20 hover:text-rose-500 hover:bg-rose-500/10 transition-all rounded-xl border border-transparent hover:border-rose-500/30",onClick:Z(c=>m("deleteSession",n.boardId),["stop"])},[s(a(L),{class:"w-5 h-5"})],8,Me),e("div",Ve,[s(a(pe),{class:"w-4 h-4 text-white/20 group-hover:text-primary transition-colors"})])])],8,be))),128))])])):$("",!0)}}),Ce={class:"min-h-screen bg-background"},Se={class:"max-w-4xl mx-auto p-6 space-y-12"},Te={key:0,class:"space-y-10 animate-fade-in-up"},$e={class:"flex items-center gap-4"},De={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Ke={class:"glass-dark p-8 rounded-3xl space-y-8 border border-white/5 shadow-glass-dark group hover:border-primary/20 transition-all duration-500"},Ue={class:"flex items-center gap-4"},je={class:"relative"},Re={class:"w-16 h-16 rounded-2xl bg-primary/10 border border-primary/20 flex items-center justify-center overflow-hidden shadow-neon"},qe=["src"],Ee={class:"space-y-6"},Fe={class:"space-y-2"},Le={class:"space-y-2"},Oe={class:"space-y-2"},ze={class:"flex items-center gap-3 bg-white/5 p-3 rounded-xl border border-white/10 group-hover:neon-border transition-all duration-500"},He={class:"text-sm text-white/70 break-all select-all font-mono"},Ye={class:"glass-dark p-8 rounded-3xl space-y-8 border border-white/5 shadow-glass-dark group hover:border-primary/20 transition-all duration-500"},Be={class:"flex items-center gap-3"},Ge={class:"space-y-6"},We={class:"space-y-2"},Ze={class:"flex items-start gap-3 bg-white/5 p-4 rounded-xl border border-white/10 group-hover:neon-border transition-all duration-500"},Je={class:"text-[11px] text-white/50 break-all select-all font-mono leading-relaxed"},Qe={class:"space-y-3"},Xe={class:"pt-8"},et=["disabled"],tt={key:0,class:"flex items-center justify-center gap-3"},st={key:0,class:"space-y-8 pt-8"},at={class:"flex items-center gap-4"},rt={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},ot={class:"max-w-3xl"},it={class:"space-y-8 pt-8"},lt={class:"flex items-center gap-4"},dt={class:"p-3 bg-primary/10 rounded-2xl border border-primary/20 shadow-neon"},nt={class:"glass-dark p-6 rounded-3xl border border-white/5 space-y-6"},ct={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ut={class:"space-y-2"},pt={class:"space-y-2"},ht=["disabled"],vt={key:0,class:"space-y-4"},xt={class:"flex items-start justify-between gap-4"},mt={class:"flex-1 space-y-3"},bt={class:"flex items-center gap-3"},yt={class:"w-10 h-10 rounded-xl bg-primary/10 border border-primary/20 flex items-center justify-center"},gt={class:"text-lg font-bold text-white"},wt={class:"text-[10px] text-white/40 uppercase tracking-wider"},ft={class:"flex items-start gap-2 bg-white/5 p-3 rounded-xl border border-white/10"},kt={class:"text-[11px] text-white/50 break-all select-all font-mono"},_t=["onClick"],It={key:1,class:"glass-dark p-8 rounded-3xl border border-white/5 text-center"},At={class:"pt-12 mt-12 border-t border-destructive/20 space-y-8 animate-fade-in-up",style:{"animation-delay":"0.2s"}},Mt={class:"flex items-center gap-4"},Vt={class:"p-3 bg-destructive/10 rounded-2xl border border-destructive/20 shadow-[0_0_20px_rgba(239,68,68,0.1)]"},Nt={class:"glass-dark p-8 rounded-3xl border border-destructive/10 shadow-glass-dark space-y-6"},Ct=["disabled"],St={class:"space-y-4"},Tt={class:"mx-auto h-20 w-20 bg-destructive/10 rounded-[2.5rem] border border-destructive/20 flex items-center justify-center relative group"},$t={class:"flex gap-4 pt-6 justify-end"},Rt=q({__name:"UserView",setup(P){const C=E(),u=v(null),m=v(""),b=v(""),g=v(""),k=v(!1),d=v(!1),y=v([]),n=v([]),c=v(""),w=v(""),M=v(!1);J(async()=>{const t=await S.getInstance().getIdentity();t&&(u.value=t,m.value=t.name,b.value=t.avatar||"",g.value=t.subscriptionToken),y.value=await V.getSessions(),n.value=await I.getAllKnownIdentities()});const O=F(()=>u.value?m.value!==u.value.name||b.value!==(u.value.avatar||"")||g.value!==u.value.subscriptionToken:!1),z=async()=>{if(!m.value.trim()){p.error("Identity match requires a name");return}k.value=!0;try{const i=S.getInstance();await i.updateIdentity({name:m.value,avatar:b.value,subscriptionToken:g.value}),u.value=await i.getIdentity(),p.success("Identity Reconfigured",{description:"Your neural profile has been updated."})}catch{p.error("Encryption Phase Failed")}finally{k.value=!1}},H=async i=>{await V.removeSession(i),y.value=await V.getSessions(),p.success("Match history deleted")},Y=async()=>{d.value=!0;try{await S.getInstance().clearIdentity(),await V.clearAllSessions(),p.success("All Data Cleared"),C.replace("/")}catch{p.error("Wipe Operation Failed")}finally{d.value=!1}},B=async()=>{if(!c.value.trim()){p.error("Name required");return}if(!w.value.trim()){p.error("Public key required");return}M.value=!0;try{const i={id:`identity-${Date.now()}`,name:c.value.trim(),publicKey:w.value.trim(),addedAt:Date.now()};await I.addKnownIdentity(i),n.value=await I.getAllKnownIdentities(),c.value="",w.value="",p.success("Known Identity Added",{description:`${i.name} has been added to your network.`})}catch{p.error("Failed to add identity")}finally{M.value=!1}},G=async(i,t)=>{try{await I.deleteKnownIdentity(i),n.value=await I.getAllKnownIdentities(),p.success("Identity Removed",{description:`${t} has been removed from your network.`})}catch{p.error("Failed to remove identity")}};return(i,t)=>(o(),l("div",Ce,[e("div",Se,[s(te),u.value?(o(),l("div",Te,[e("div",$e,[e("div",De,[s(a(T),{class:"w-8 h-8 text-primary"})]),t[5]||(t[5]=e("h1",{class:"text-4xl font-black tracking-tight text-white uppercase"},[x("User "),e("span",{class:"text-gradient"},"Profile")],-1))]),e("div",Pe,[e("div",Ke,[e("div",Ue,[e("div",je,[e("div",Re,[a(K)(b.value)?(o(),l("img",{key:0,src:a(K)(b.value),alt:"Avatar",class:"w-full h-full object-cover"},null,8,qe)):(o(),Q(a(T),{key:1,class:"w-8 h-8 text-primary"}))]),t[6]||(t[6]=e("div",{class:"absolute -bottom-1 -right-1 w-4 h-4 bg-primary rounded-full border-2 border-[#0A0A0A] shadow-neon"},null,-1))]),t[7]||(t[7]=e("div",{class:"space-y-1"},[e("h2",{class:"text-2xl font-bold text-white uppercase tracking-wide"},"Identity"),e("p",{class:"text-[10px] text-primary font-black uppercase tracking-widest"},"Active Node")],-1))]),e("div",Ee,[e("div",Fe,[t[8]||(t[8]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Display Keyname",-1)),s(A,{modelValue:m.value,"onUpdate:modelValue":t[0]||(t[0]=r=>m.value=r),placeholder:"Enter identity name...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-bold"},null,8,["modelValue"])]),e("div",Le,[t[9]||(t[9]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Avatar Vector (URL)",-1)),s(A,{modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=r=>b.value=r),placeholder:"https://images.unsplash.com/...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono text-sm"},null,8,["modelValue"])]),e("div",Oe,[t[10]||(t[10]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Node Identifier",-1)),e("div",ze,[s(a(he),{class:"w-5 h-5 text-primary/60 shrink-0"}),e("code",He,h(u.value.id),1)])])])]),e("div",Ye,[e("div",Be,[s(a(X),{class:"w-6 h-6 text-yellow-500 drop-shadow-[0_0_8px_rgba(234,179,8,0.4)]"}),t[11]||(t[11]=e("h2",{class:"text-2xl font-bold text-white uppercase tracking-wide"},"System Auth",-1))]),e("div",Ge,[e("div",We,[t[12]||(t[12]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Public Key Vector",-1)),e("div",Ze,[s(a(j),{class:"w-5 h-5 text-primary/60 shrink-0 mt-1"}),e("code",Je,h(u.value.publicKey),1)])]),e("div",Qe,[t[13]||(t[13]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Access Token",-1)),s(A,{modelValue:g.value,"onUpdate:modelValue":t[2]||(t[2]=r=>g.value=r),placeholder:"Paste your node token...",className:"h-14 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono"},null,8,["modelValue"])])])])]),e("div",Xe,[e("button",{onClick:z,disabled:k.value||!O.value,class:"w-full h-16 text-sm font-black uppercase tracking-[0.4em] rounded-2xl bg-primary text-primary-foreground shadow-[0_0_30px_rgba(16,185,129,0.2)] hover:shadow-[0_0_50px_rgba(16,185,129,0.4)] transition-all duration-500 border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed"},[k.value?(o(),l("div",tt,[...t[14]||(t[14]=[e("div",{class:"h-5 w-5 animate-spin rounded-full border-2 border-white border-b-transparent"},null,-1),x(" Encrypting Profile Data... ",-1)])])):(o(),l(N,{key:1},[x("COMMIT NEURAL CONFIGURATION")],64))],8,et)]),y.value.length>0?(o(),l("div",st,[e("div",at,[e("div",rt,[s(a(ve),{class:"w-6 h-6 text-primary"})]),t[15]||(t[15]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase"},[x("Game "),e("span",{class:"text-gradient"},"History")],-1))]),e("div",ot,[s(Ne,{"active-sessions":y.value,onDeleteSession:H},null,8,["active-sessions"])])])):$("",!0),e("div",it,[e("div",lt,[e("div",dt,[s(a(R),{class:"w-6 h-6 text-primary"})]),t[16]||(t[16]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase"},[x(" Known "),e("span",{class:"text-gradient"},"Identities")],-1))]),e("div",nt,[t[19]||(t[19]=e("h3",{class:"text-lg font-bold text-white uppercase tracking-tight"},"Add New Identity",-1)),e("div",ct,[e("div",ut,[t[17]||(t[17]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Display Name",-1)),s(A,{modelValue:c.value,"onUpdate:modelValue":t[3]||(t[3]=r=>c.value=r),placeholder:"Enter player name...",className:"h-12 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-bold"},null,8,["modelValue"])]),e("div",pt,[t[18]||(t[18]=e("label",{class:"text-[10px] font-black text-white/40 uppercase tracking-[0.2em]"},"Public Key",-1)),s(A,{modelValue:w.value,"onUpdate:modelValue":t[4]||(t[4]=r=>w.value=r),placeholder:"04...",className:"h-12 bg-white/5 border-white/10 rounded-xl focus:ring-primary text-white font-mono text-sm"},null,8,["modelValue"])])]),e("button",{onClick:B,disabled:M.value||!c.value.trim()||!w.value.trim(),class:"w-full h-12 text-xs font-black uppercase tracking-[0.2em] rounded-xl bg-primary/10 text-primary border border-primary/20 hover:bg-primary hover:text-white transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"},h(M.value?"ADDING...":"ADD IDENTITY"),9,ht)]),n.value.length>0?(o(),l("div",vt,[(o(!0),l(N,null,D(n.value,r=>(o(),l("div",{key:r.id,class:"glass-dark p-6 rounded-3xl border border-white/5 hover:border-primary/20 transition-all duration-300"},[e("div",xt,[e("div",mt,[e("div",bt,[e("div",yt,[s(a(T),{class:"w-5 h-5 text-primary"})]),e("div",null,[e("h4",gt,h(r.name),1),e("p",wt,"Added "+h(new Date(r.addedAt).toLocaleDateString()),1)])]),e("div",ft,[s(a(j),{class:"w-4 h-4 text-primary/60 shrink-0 mt-0.5"}),e("code",kt,h(r.publicKey),1)])]),e("button",{onClick:Dt=>G(r.id,r.name),class:"p-3 rounded-xl border border-white/10 text-white/60 hover:text-rose-500 hover:bg-rose-500/10 hover:border-rose-500/30 transition-all",title:"Remove identity"},[s(a(L),{class:"w-5 h-5"})],8,_t)])]))),128))])):(o(),l("div",It,[s(a(R),{class:"w-12 h-12 text-white/20 mx-auto mb-3"}),t[20]||(t[20]=e("p",{class:"text-white/40 font-medium"},"No known identities yet",-1)),t[21]||(t[21]=e("p",{class:"text-white/30 text-sm mt-1"},"Add players you've played with to quickly identify them in future games",-1))]))]),e("div",At,[e("div",Mt,[e("div",Vt,[s(a(U),{class:"w-6 h-6 text-destructive"})]),t[22]||(t[22]=e("h2",{class:"text-3xl font-black tracking-tight text-white uppercase italic"},[x("Danger "),e("span",{class:"text-destructive"},"Zone")],-1))]),e("div",Nt,[t[28]||(t[28]=ee('<div class="space-y-2"><h3 class="text-xl font-bold text-white uppercase tracking-tight">Purge All Neural Records</h3><p class="text-sm text-slate-400 font-medium leading-relaxed"> This action will permanently delete your <span class="text-destructive font-bold">decentralized identity</span>, private keys, and <span class="text-destructive font-bold">all match history</span> from this device. This cannot be undone. </p></div>',1)),s(a(ce),null,{default:f(()=>[s(a(se),{asChild:""},{default:f(()=>[e("button",{disabled:d.value,class:"h-14 px-8 text-xs font-black uppercase tracking-[0.2em] rounded-xl border border-destructive/30 text-destructive hover:bg-destructive hover:text-white transition-all duration-300 disabled:opacity-50"},h(d.value?"PURGING DATA...":"INITIATE FULL DATA WIPE"),9,Ct)]),_:1}),s(a(ae),null,{default:f(()=>[s(a(re),{class:"bg-black/80 fixed inset-0 z-[100] backdrop-blur-sm"}),s(a(oe),{class:"glass-dark border border-destructive/20 rounded-[2rem] p-8 max-w-md fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[101]"},{default:f(()=>[e("div",St,[e("div",Tt,[t[23]||(t[23]=e("div",{class:"absolute inset-0 bg-destructive/20 blur-2xl rounded-full opacity-50"},null,-1)),s(a(U),{class:"w-10 h-10 text-destructive relative z-10"})]),s(a(ie),{class:"text-2xl font-black text-center tracking-tighter text-white uppercase"},{default:f(()=>[...t[24]||(t[24]=[x(" Confirm Neural Purge? ",-1)])]),_:1}),s(a(le),{class:"text-center text-slate-400 font-medium px-4"},{default:f(()=>[...t[25]||(t[25]=[x(" You are about to erase all local data. Your identity and game history will be lost forever. Are you absolutely certain? ",-1)])]),_:1})]),e("div",$t,[s(a(de),{class:"h-14 px-6 rounded-xl bg-white/5 border-white/10 text-white font-bold hover:bg-white/10 uppercase text-xs"},{default:f(()=>[...t[26]||(t[26]=[x(" ABORT ",-1)])]),_:1}),s(a(ne),{onClick:Y,class:"h-14 px-6 rounded-xl bg-destructive text-white font-black uppercase tracking-widest shadow-[0_0_20px_rgba(239,68,68,0.3)] hover:bg-destructive/90 text-xs"},{default:f(()=>[...t[27]||(t[27]=[x(" WIPE DATA ",-1)])]),_:1})])]),_:1})]),_:1})]),_:1})])])])):$("",!0)])]))}});export{Rt as default};
