import{c as k,d as h,a as l,b as e,e as c,u as r,o,_ as b,j as f,t as p,F as w,k as y,n as C,w as j,r as $,f as B,v as M,h as S,l as v,i as g}from"./index-D06-buoC.js";import{a as H}from"./GameRegistry-C1BmYkwo.js";import{G as P,U as z,L as A,u as E}from"./useGameSession-DOOrcugb.js";import{H as F}from"./HeaderView-CWZwv6bT.js";import{S as V}from"./search-E4uT5ohn.js";const R=k("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const J=k("mouse-pointer-2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);const D=k("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),U={class:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-zoom-in w-full"},W={class:"h-24 w-24 bg-primary/5 rounded-[2rem] flex items-center justify-center border border-primary/20 group-hover:bg-primary/10 transition-colors shadow-neon-sm"},q={class:"h-24 w-24 bg-blue-500/5 rounded-[2rem] flex items-center justify-center border border-blue-400/20 group-hover:bg-blue-400/10 transition-colors shadow-[0_0_50px_rgba(59,130,246,0.1)]"},T=h({__name:"LobbyModeSelection",props:{onSelectManual:{type:Function},onSelectServer:{type:Function}},setup(a){return(u,n)=>(o(),l("div",U,[e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-primary/30 shadow-glass-dark hover:shadow-[0_0_40px_rgba(16,185,129,0.1)] transition-all duration-500 rounded-[2.5rem] group cursor-pointer relative overflow-hidden h-full",onClick:n[0]||(n[0]=(...d)=>a.onSelectManual&&a.onSelectManual(...d))},[e("div",W,[c(r(J),{class:"w-12 h-12 text-primary"})]),n[2]||(n[2]=e("div",{class:"space-y-3"},[e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Manual Bridge"),e("p",{class:"text-xs text-white/30 uppercase tracking-[0.2em] font-medium leading-relaxed"},"Encrypted P2P signaling via shared vectors. 100% serverless.")],-1)),n[3]||(n[3]=e("button",{class:"w-full h-12 mt-auto rounded-xl border border-white/10 text-white/60 hover:text-white hover:bg-white/5 font-black uppercase tracking-widest text-[10px] transition-all"}," Initialize Private Link ",-1))]),e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-blue-400/30 shadow-glass-dark hover:shadow-[0_0_40px_rgba(59,130,246,0.1)] transition-all duration-500 rounded-[2.5rem] group cursor-pointer relative overflow-hidden h-full",onClick:n[1]||(n[1]=(...d)=>a.onSelectServer&&a.onSelectServer(...d))},[n[4]||(n[4]=e("div",{class:"absolute top-4 right-6 px-3 py-1 bg-primary text-primary-foreground text-[9px] font-black rounded-full uppercase tracking-[0.2em] shadow-neon"},"Stable",-1)),e("div",q,[c(r(P),{class:"w-12 h-12 text-blue-400"})]),n[5]||(n[5]=e("div",{class:"space-y-3"},[e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Global Mesh"),e("p",{class:"text-xs text-white/30 uppercase tracking-[0.2em] font-medium leading-relaxed"},"Seamless node discovery via global signaling network.")],-1)),n[6]||(n[6]=e("button",{class:"w-full h-12 mt-auto rounded-xl border border-blue-400/20 text-blue-400 hover:text-blue-300 hover:bg-blue-400/5 font-black uppercase tracking-widest text-[10px] transition-all"}," Connect to Mesh ",-1))])]))}}),Y=b(T,[["__scopeId","data-v-92d92ff5"]]),K={class:"flex flex-col items-center gap-3"},Q={class:"text-[9px] font-black text-white/20 uppercase tracking-[0.3em] flex items-center gap-2"},X={class:"flex bg-white/5 p-1 rounded-2xl border border-white/10 shadow-inner"},Z=["onClick"],ee=h({__name:"PlayerCountSelector",props:{value:{},onChange:{},min:{default:2},max:{default:4},label:{default:"Players"}},setup(a){const u=a,n=Array.from({length:u.max-u.min+1},(d,s)=>u.min+s);return(d,s)=>(o(),l("div",K,[e("span",Q,[c(r(D),{class:"w-3 h-3"}),f(" "+p(a.label)+" Node Capacity ",1)]),e("div",X,[(o(!0),l(w,null,y(r(n),i=>(o(),l("button",{key:i,onClick:j(t=>a.onChange(i),["stop"]),class:C(["h-10 w-12 rounded-xl text-xs font-black transition-all duration-300",a.value===i?"bg-primary text-primary-foreground shadow-neon":"text-white/30 hover:text-white hover:bg-white/5"])},p(i),11,Z))),128))])]))}}),I=b(ee,[["__scopeId","data-v-14fc22ef"]]),te={class:"grid grid-cols-1 sm:grid-cols-2 gap-8 animate-fade-in-up w-full"},re={class:"h-20 w-20 bg-primary/5 rounded-[2rem] flex items-center justify-center border border-primary/20 group-hover:scale-110 transition-transform shadow-neon-sm"},ae={class:"space-y-3"},se={class:"h-20 w-20 bg-white/5 rounded-[2rem] flex items-center justify-center border border-white/10 group-hover:scale-110 transition-transform"},ne=h({__name:"LobbyManualMode",props:{onHostAGame:{},connectWithOffer:{},minPlayers:{default:2},maxPlayers:{default:4}},setup(a){const u=a,n=B(),d=M(),s=$(u.maxPlayers);return(i,t)=>(o(),l("div",te,[e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-primary/30 shadow-glass-dark hover:shadow-[0_0_40px_rgba(16,185,129,0.1)] transition-all duration-500 rounded-[2.5rem] group cursor-pointer",onClick:t[0]||(t[0]=x=>a.onHostAGame(s.value))},[e("div",re,[c(r(z),{class:"w-10 h-10 text-primary"})]),e("div",ae,[t[2]||(t[2]=e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Host Instance",-1)),t[3]||(t[3]=e("p",{class:"text-[10px] text-white/30 uppercase tracking-[0.2em] font-black leading-relaxed max-w-[200px] mb-4"}," Initialize a new node session and broadcast invite vector. ",-1)),c(I,{value:s.value,onChange:x=>s.value=x,min:a.minPlayers,max:a.maxPlayers},null,8,["value","onChange","min","max"])]),t[4]||(t[4]=e("button",{class:"w-full h-14 rounded-2xl bg-primary text-primary-foreground shadow-neon hover:shadow-[0_0_30px_rgba(16,185,129,0.4)] font-black uppercase tracking-[0.3em] text-xs transition-all pointer-events-none"}," Generate Session ",-1))]),e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-white/20 shadow-glass-dark transition-all duration-500 rounded-[2.5rem] group cursor-pointer",onClick:t[1]||(t[1]=()=>{a.connectWithOffer(),r(n).push(`/games/${r(d).params.gameId}/manual`)})},[e("div",se,[c(r(A),{class:"w-10 h-10 text-white/70"})]),t[5]||(t[5]=e("div",{class:"space-y-3"},[e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Bridge Session"),e("p",{class:"text-[10px] text-white/30 uppercase tracking-[0.2em] font-black leading-relaxed max-w-[200px]"}," Receive external node signal to enter existing match. ")],-1)),t[6]||(t[6]=e("button",{class:"w-full h-14 rounded-2xl border border-white/10 text-white/70 hover:text-white hover:bg-white/5 font-black uppercase tracking-widest text-xs transition-all pointer-events-none mt-auto"}," Initialize Bridge ",-1))])]))}}),oe=b(ne,[["__scopeId","data-v-543d70f9"]]),ie={class:"space-y-6 animate-fade-in-up w-full"},le={class:"flex items-center justify-between mb-2"},de={class:"text-xs font-black text-white/30 uppercase tracking-[0.3em] flex items-center gap-3"},ce={class:"flex items-center gap-6"},ue={class:"flex gap-3"},pe={key:0,class:"text-center py-12 space-y-4 glass-dark rounded-[2rem] border border-white/5"},me={key:1,class:"p-20 text-center border border-white/5 bg-white/5 rounded-[3rem] backdrop-blur-sm"},xe={class:"h-20 w-20 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6 border border-white/10 group-hover:scale-110 transition-transform"},he={key:2,class:"grid gap-6"},be={class:"flex items-center gap-6"},ge={class:"h-16 w-16 bg-white/5 rounded-2xl flex items-center justify-center font-black text-primary text-2xl border border-white/10 shadow-neon-sm"},fe={class:"space-y-1"},ve={class:"font-black text-white text-xl uppercase tracking-tight"},we={class:"flex items-center gap-2"},ye={class:"text-[10px] text-white/30 font-black uppercase tracking-widest"},ke={class:"flex items-center gap-3 bg-white/5 p-3 rounded-[2rem] border border-white/10"},_e=["onClick","title"],Se={key:0,class:"text-[9px] font-black text-primary uppercase tracking-tighter"},Ce={key:1,class:"h-6 w-6 bg-white/10 rounded-full flex items-center justify-center text-[10px] font-black text-white/50 uppercase overflow-hidden border border-white/10"},$e=h({__name:"LobbyServerMode",props:{isServerConnecting:{type:Boolean},availableOffers:{},signalingClient:{},onHostAGame:{},onJoinFromList:{},minPlayers:{default:2},maxPlayers:{default:4}},setup(a){const n=$(a.maxPlayers);return(d,s)=>(o(),l("div",ie,[e("div",le,[e("h3",de,[c(r(P),{class:"w-5 h-5 text-blue-400"}),s[3]||(s[3]=f(" Discovery Mesh: Active Rooms ",-1))]),e("div",ce,[c(I,{value:n.value,onChange:i=>n.value=i,min:a.minPlayers,max:a.maxPlayers},null,8,["value","onChange","min","max"]),e("div",ue,[e("button",{onClick:s[0]||(s[0]=i=>a.signalingClient?.requestOffers()),class:"h-10 px-4 text-[10px] font-black uppercase tracking-widest text-white/40 hover:text-white hover:bg-white/5 border border-white/5 rounded-xl transition-all"}," Rescan Network "),e("button",{onClick:s[1]||(s[1]=i=>a.onHostAGame(n.value)),class:"h-10 px-4 text-[10px] font-black uppercase tracking-widest bg-primary text-primary-foreground shadow-neon hover:shadow-[0_0_30px_rgba(16,185,129,0.4)] rounded-xl transition-all"}," Initialize Host ")])])]),a.isServerConnecting?(o(),l("div",pe,[...s[4]||(s[4]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"},null,-1),e("p",{class:"text-[10px] text-primary font-black uppercase tracking-[0.2em] animate-pulse"},"Synchronizing with global mesh...",-1)])])):a.availableOffers.length===0?(o(),l("div",me,[e("div",xe,[c(r(V),{class:"w-10 h-10 text-white/20"})]),s[5]||(s[5]=e("p",{class:"text-xs text-white/30 uppercase font-black tracking-[0.2em]"},"Null Results: No active nodes found",-1)),e("button",{onClick:s[2]||(s[2]=i=>a.onHostAGame(n.value)),class:"mt-4 text-primary font-black uppercase tracking-widest text-[10px] hover:text-primary/70 transition-colors"}," Broadcasting first signal... ")])):(o(),l("div",he,[(o(!0),l(w,null,y(a.availableOffers,i=>(o(),l("div",{key:i.boardId,class:"glass-dark p-8 flex items-center justify-between border border-white/5 rounded-[2.5rem] shadow-glass-dark hover:border-primary/20 transition-all duration-500 group"},[e("div",be,[e("div",ge,p(i.peerName?.[0]||"?"),1),e("div",fe,[e("p",ve,p(i.peerName)+"'s Instance",1),e("div",we,[s[6]||(s[6]=e("span",{class:"flex h-2 w-2 rounded-full bg-primary shadow-neon animate-pulse"},null,-1)),e("p",ye,p(i.slots?.filter(t=>t.status==="open").length)+" Vectors Available ",1)])])]),e("div",ke,[(o(!0),l(w,null,y(i.slots,t=>(o(),l("div",{key:t.connectionId,onClick:x=>t.status==="open"&&a.onJoinFromList(i,t),class:C(["h-12 w-12 rounded-full flex items-center justify-center border-2 transition-all duration-500",t.status==="open"?"border-primary/20 border-dashed cursor-pointer hover:border-primary hover:bg-primary/10 hover:shadow-neon-sm bg-primary/5":"border-white/5 bg-white/5 cursor-not-allowed opacity-30"]),title:t.status==="open"?"Join Game":`Occupied by ${t.peerName||"Entity"}`},[t.status==="open"?(o(),l("span",Se,"JOIN")):(o(),l("div",Ce,p(t.peerName?.[0]||"P"),1))],10,_e))),128))])]))),128))]))]))}}),Me=b($e,[["__scopeId","data-v-b9445f91"]]),Pe={class:"min-h-screen bg-background"},Ie={key:0,class:"max-w-7xl mx-auto p-6 space-y-12"},Le={class:"text-3xl font-black tracking-tighter uppercase text-white"},Ge={class:"text-gradient"},Oe={class:"animate-fade-in-up"},Ne={key:1,class:"space-y-8"},je={key:1,class:"p-10 text-center text-white/50 uppercase font-black tracking-widest"},Be=h({__name:"GameLobbyView",setup(a){const u=M(),n=S(()=>u.params.gameId),d=S(()=>H(n.value||"")),{signalingMode:s,setSignalingMode:i,send:t,signalingClient:x,availableOffers:L,isServerConnecting:G,onHostAGame:_,connectWithOffer:O,onJoinFromList:N}=E();return(He,m)=>(o(),l("div",Pe,[d.value?(o(),l("div",Ie,[c(F),e("h1",Le,[m[1]||(m[1]=f(" Lobby: ",-1)),e("span",Ge,p(d.value.name),1)]),e("div",Oe,[r(s)?g("",!0):(o(),v(Y,{key:0,"on-select-manual":()=>{r(t)({type:"CLOSE_SESSION"}),r(i)("manual")},"on-select-server":()=>{r(t)({type:"CLOSE_SESSION"}),r(i)("server"),r(t)({type:"GOTO_LOBBY"})}},null,8,["on-select-manual","on-select-server"])),r(s)?(o(),l("div",Ne,[e("button",{class:"mb-4 text-white/30 hover:text-primary hover:bg-primary/5 transition-all group font-black uppercase tracking-widest text-[10px] flex items-center gap-2 p-2 rounded-lg",onClick:m[0]||(m[0]=ze=>r(i)(null))},[c(r(R),{class:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),m[2]||(m[2]=f(" De-initialize Mode ",-1))]),r(s)==="manual"?(o(),v(oe,{key:0,"on-host-agame":r(_),"connect-with-offer":r(O),"min-players":d.value.minPlayers,"max-players":d.value.maxPlayers},null,8,["on-host-agame","connect-with-offer","min-players","max-players"])):g("",!0),r(s)==="server"?(o(),v(Me,{key:1,"is-server-connecting":r(G),"available-offers":r(L),"signaling-client":r(x),"on-host-agame":r(_),"on-join-from-list":r(N),"min-players":d.value.minPlayers,"max-players":d.value.maxPlayers},null,8,["is-server-connecting","available-offers","signaling-client","on-host-agame","on-join-from-list","min-players","max-players"])):g("",!0)])):g("",!0)])])):(o(),l("div",je," Game not found in grid. "))]))}}),Je=b(Be,[["__scopeId","data-v-d2867c83"]]);export{Je as default};
