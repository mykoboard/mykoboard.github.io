import{importShared as v}from"../__federation_fn_import-B795iMz1.js";import{r as C}from"../index-hj29t9IO.js";const{useLayoutEffect:D}=await v("react");var M=D,x={exports:{}},O={},A={exports:{}},P={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h=C;function j(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var z=typeof Object.is=="function"?Object.is:j,G=h.useState,N=h.useEffect,W=h.useLayoutEffect,L=h.useDebugValue;function T(e,t){var r=t(),n=G({inst:{value:r,getSnapshot:t}}),o=n[0].inst,u=n[1];return W(function(){o.value=r,o.getSnapshot=t,y(o)&&u({inst:o})},[e,r,t]),N(function(){return y(o)&&u({inst:o}),e(function(){y(o)&&u({inst:o})})},[e]),L(r),r}function y(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!z(e,r)}catch{return!0}}function U(e,t){return t()}var Y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?U:T;P.useSyncExternalStore=h.useSyncExternalStore!==void 0?h.useSyncExternalStore:Y;A.exports=P;var _=A.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=C,F=_;function H(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J=typeof Object.is=="function"?Object.is:H,K=F.useSyncExternalStore,Q=m.useRef,X=m.useEffect,Z=m.useMemo,q=m.useDebugValue;O.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var u=Q(null);if(u.current===null){var c={hasValue:!1,value:null};u.current=c}else c=u.current;u=Z(function(){function i(a){if(!f){if(f=!0,l=a,a=n(a),o!==void 0&&c.hasValue){var d=c.value;if(o(d,a))return p=d}return p=a}if(d=p,J(l,a))return d;var $=n(a);return o!==void 0&&o(d,$)?(l=a,d):(l=a,p=$)}var f=!1,l,p,w=r===void 0?null:r;return[function(){return i(t())},w===null?void 0:function(){return i(w())}]},[t,r,n,o]);var s=K(e,u[0],u[1]);return X(function(){c.hasValue=!0,c.value=s},[s]),q(s),s};x.exports=O;var B=x.exports;const E=await v("react"),{useEffect:b,useState:ee,useCallback:S}=await v("react"),{toObserver:te,createActor:g}=await v("xstate"),V=(e,t)=>{t(e);const r=e.getSnapshot().children;r&&Object.values(r).forEach(n=>{V(n,t)})};function k(e){const t=[];V(e,n=>{t.push([n,n.getSnapshot()]),n.observers=new Set});const r=e.system.getSnapshot?.();e.stop(),e.system._snapshot=r,t.forEach(([n,o])=>{n._processingStatus=0,n._snapshot=o})}function I(e,...[t]){let[[r,n],o]=ee(()=>{const u=g(e,t);return[e.config,u]});if(e.config!==r){const u=g(e,{...t,snapshot:n.getPersistedSnapshot({__unsafeAllowInlineActors:!0})});o([e.config,u]),n=u}return M(()=>{n.logic.implementations=e.implementations}),n}function re(e,...[t,r]){const n=I(e,t);return b(()=>{if(!r)return;const o=n.subscribe(te(r));return()=>{o.unsubscribe()}},[r]),b(()=>(n.start(),()=>{k(n)}),[n]),n}function ne(e,t){return e===t}function oe(e,t,r=ne){const n=S(c=>{if(!e)return()=>{};const{unsubscribe:s}=e.subscribe(c);return s},[e]),o=S(()=>e?.getSnapshot(),[e]);return B.useSyncExternalStoreWithSelector(n,o,o,t,r)}function ae(e,t){const r=E.createContext(null),n=r.Provider;function o({children:s,logic:i=e,machine:f,options:l}){if(f)throw new Error('The "machine" prop has been deprecated. Please use "logic" instead.');const p=re(i,{...t,...l});return E.createElement(n,{value:p,children:s})}o.displayName="ActorProvider";function u(){const s=E.useContext(r);if(!s)throw new Error(`You used a hook from "${o.displayName}" but it's not inside a <${o.displayName}> component.`);return s}function c(s,i){const f=u();return oe(f,s,i)}return{Provider:o,useActorRef:u,useSelector:c}}function R(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ie(e,t){if(R(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!R(e[r[o]],t[r[o]]))return!1;return!0}function ue(e,...[t]){const r=I(e,t),n=S(()=>r.getSnapshot(),[r]),o=S(c=>{const{unsubscribe:s}=r.subscribe(c);return s},[r]),u=_.useSyncExternalStore(o,n,n);return b(()=>(r.start(),()=>{k(r)}),[r]),[u,r.send,r]}function fe(e,...[t]){return ue(e,t)}export{ae as createActorContext,ie as shallowEqual,ue as useActor,re as useActorRef,fe as useMachine,oe as useSelector};
