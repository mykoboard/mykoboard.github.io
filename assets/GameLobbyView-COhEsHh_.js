import{c as k,d as h,a as l,b as e,e as c,f as n,o,_ as b,j as f,t as p,F as w,k as y,n as P,w as N,u as j,v as $,r as M,h as S,l as v,i as g}from"./index-BKBOO3Kl.js";import{a as z}from"./GameRegistry-DkpiLfwP.js";import{G as L,U as B,L as F,u as J,a as V}from"./useGameSession-BAdcjAub.js";import{H as R}from"./HeaderView-B6eQ1GCn.js";import{S as W}from"./search-CcS26o6v.js";const D=k("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const E=k("mouse-pointer-2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]);const U=k("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),q={class:"grid grid-cols-1 md:grid-cols-2 gap-8 animate-zoom-in w-full"},T={class:"h-24 w-24 bg-primary/5 rounded-[2rem] flex items-center justify-center border border-primary/20 group-hover:bg-primary/10 transition-colors shadow-neon-sm"},K={class:"h-24 w-24 bg-blue-500/5 rounded-[2rem] flex items-center justify-center border border-blue-400/20 group-hover:bg-blue-400/10 transition-colors shadow-[0_0_50px_rgba(59,130,246,0.1)]"},Q=h({__name:"LobbyModeSelection",props:{onSelectManual:{type:Function},onSelectServer:{type:Function}},setup(r){return(u,a)=>(o(),l("div",q,[e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-primary/30 shadow-glass-dark hover:shadow-[0_0_40px_rgba(16,185,129,0.1)] transition-all duration-500 rounded-[2.5rem] group cursor-pointer relative overflow-hidden h-full",onClick:a[0]||(a[0]=(...d)=>r.onSelectManual&&r.onSelectManual(...d))},[e("div",T,[c(n(E),{class:"w-12 h-12 text-primary"})]),a[2]||(a[2]=e("div",{class:"space-y-3"},[e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Manual Bridge"),e("p",{class:"text-xs text-white/30 uppercase tracking-[0.2em] font-medium leading-relaxed"},"Encrypted P2P signaling via shared vectors. 100% serverless.")],-1)),a[3]||(a[3]=e("button",{class:"w-full h-12 mt-auto rounded-xl border border-white/10 text-white/60 hover:text-white hover:bg-white/5 font-black uppercase tracking-widest text-[10px] transition-all"}," Initialize Private Link ",-1))]),e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-blue-400/30 shadow-glass-dark hover:shadow-[0_0_40px_rgba(59,130,246,0.1)] transition-all duration-500 rounded-[2.5rem] group cursor-pointer relative overflow-hidden h-full",onClick:a[1]||(a[1]=(...d)=>r.onSelectServer&&r.onSelectServer(...d))},[a[4]||(a[4]=e("div",{class:"absolute top-4 right-6 px-3 py-1 bg-primary text-primary-foreground text-[9px] font-black rounded-full uppercase tracking-[0.2em] shadow-neon"},"Stable",-1)),e("div",K,[c(n(L),{class:"w-12 h-12 text-blue-400"})]),a[5]||(a[5]=e("div",{class:"space-y-3"},[e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Global Mesh"),e("p",{class:"text-xs text-white/30 uppercase tracking-[0.2em] font-medium leading-relaxed"},"Seamless node discovery via global signaling network.")],-1)),a[6]||(a[6]=e("button",{class:"w-full h-12 mt-auto rounded-xl border border-blue-400/20 text-blue-400 hover:text-blue-300 hover:bg-blue-400/5 font-black uppercase tracking-widest text-[10px] transition-all"}," Connect to Mesh ",-1))])]))}}),X=b(Q,[["__scopeId","data-v-92d92ff5"]]),Y={class:"flex flex-col items-center gap-3"},Z={class:"text-[9px] font-black text-white/20 uppercase tracking-[0.3em] flex items-center gap-2"},ee={class:"flex bg-white/5 p-1 rounded-2xl border border-white/10 shadow-inner"},te=["onClick"],re=h({__name:"PlayerCountSelector",props:{value:{},onChange:{},min:{default:2},max:{default:4},label:{default:"Players"}},setup(r){const u=r,a=Array.from({length:u.max-u.min+1},(d,s)=>u.min+s);return(d,s)=>(o(),l("div",Y,[e("span",Z,[c(n(U),{class:"w-3 h-3"}),f(" "+p(r.label)+" Node Capacity ",1)]),e("div",ee,[(o(!0),l(w,null,y(n(a),i=>(o(),l("button",{key:i,onClick:N(t=>r.onChange(i),["stop"]),class:P(["h-10 w-12 rounded-xl text-xs font-black transition-all duration-300",r.value===i?"bg-primary text-primary-foreground shadow-neon":"text-white/30 hover:text-white hover:bg-white/5"])},p(i),11,te))),128))])]))}}),G=b(re,[["__scopeId","data-v-14fc22ef"]]),ae={class:"grid grid-cols-1 sm:grid-cols-2 gap-8 animate-fade-in-up w-full"},se={class:"h-20 w-20 bg-primary/5 rounded-[2rem] flex items-center justify-center border border-primary/20 group-hover:scale-110 transition-transform shadow-neon-sm"},ne={class:"space-y-3"},oe={class:"h-20 w-20 bg-white/5 rounded-[2rem] flex items-center justify-center border border-white/10 group-hover:scale-110 transition-transform"},ie=h({__name:"LobbyManualMode",props:{onHostAGame:{},connectWithOffer:{},minPlayers:{default:2},maxPlayers:{default:4}},setup(r){const u=r,a=j(),d=$(),s=M(u.maxPlayers);return(i,t)=>(o(),l("div",ae,[e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-primary/30 shadow-glass-dark hover:shadow-[0_0_40px_rgba(16,185,129,0.1)] transition-all duration-500 rounded-[2.5rem] group cursor-pointer",onClick:t[0]||(t[0]=x=>r.onHostAGame(s.value))},[e("div",se,[c(n(B),{class:"w-10 h-10 text-primary"})]),e("div",ne,[t[2]||(t[2]=e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Host Instance",-1)),t[3]||(t[3]=e("p",{class:"text-[10px] text-white/30 uppercase tracking-[0.2em] font-black leading-relaxed max-w-[200px] mb-4"}," Initialize a new node session and broadcast invite vector. ",-1)),c(G,{value:s.value,onChange:x=>s.value=x,min:r.minPlayers,max:r.maxPlayers},null,8,["value","onChange","min","max"])]),t[4]||(t[4]=e("button",{class:"w-full h-14 rounded-2xl bg-primary text-primary-foreground shadow-neon hover:shadow-[0_0_30px_rgba(16,185,129,0.4)] font-black uppercase tracking-[0.3em] text-xs transition-all pointer-events-none"}," Generate Session ",-1))]),e("div",{class:"glass-dark p-10 flex flex-col items-center text-center space-y-8 border border-white/5 hover:border-white/20 shadow-glass-dark transition-all duration-500 rounded-[2.5rem] group cursor-pointer",onClick:t[1]||(t[1]=()=>{r.connectWithOffer(),n(a).push(`/games/${n(d).params.gameId}/manual`)})},[e("div",oe,[c(n(F),{class:"w-10 h-10 text-white/70"})]),t[5]||(t[5]=e("div",{class:"space-y-3"},[e("h2",{class:"text-2xl font-black text-white uppercase tracking-tight"},"Bridge Session"),e("p",{class:"text-[10px] text-white/30 uppercase tracking-[0.2em] font-black leading-relaxed max-w-[200px]"}," Receive external node signal to enter existing match. ")],-1)),t[6]||(t[6]=e("button",{class:"w-full h-14 rounded-2xl border border-white/10 text-white/70 hover:text-white hover:bg-white/5 font-black uppercase tracking-widest text-xs transition-all pointer-events-none mt-auto"}," Initialize Bridge ",-1))])]))}}),le=b(ie,[["__scopeId","data-v-543d70f9"]]),de={class:"space-y-6 animate-fade-in-up w-full"},ce={class:"flex items-center justify-between mb-2"},ue={class:"text-xs font-black text-white/30 uppercase tracking-[0.3em] flex items-center gap-3"},me={class:"flex items-center gap-6"},pe={class:"flex gap-3"},xe={key:0,class:"text-center py-12 space-y-4 glass-dark rounded-[2rem] border border-white/5"},he={key:1,class:"p-20 text-center border border-white/5 bg-white/5 rounded-[3rem] backdrop-blur-sm"},be={class:"h-20 w-20 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-6 border border-white/10 group-hover:scale-110 transition-transform"},ge={key:2,class:"grid gap-6"},fe={class:"flex items-center gap-6"},ve={class:"h-16 w-16 bg-white/5 rounded-2xl flex items-center justify-center font-black text-primary text-2xl border border-white/10 shadow-neon-sm"},we={class:"space-y-1"},ye={class:"font-black text-white text-xl uppercase tracking-tight"},ke={class:"flex items-center gap-2"},_e={class:"text-[10px] text-white/30 font-black uppercase tracking-widest"},Ce={class:"flex items-center gap-3 bg-white/5 p-3 rounded-[2rem] border border-white/10"},Se=["onClick","title"],Pe={key:0,class:"text-[9px] font-black text-primary uppercase tracking-tighter"},$e={key:1,class:"h-6 w-6 bg-white/10 rounded-full flex items-center justify-center text-[10px] font-black text-white/50 uppercase overflow-hidden border border-white/10"},Me=h({__name:"LobbyServerMode",props:{isServerConnecting:{type:Boolean},availableOffers:{},signalingClient:{},onHostAGame:{},onJoinFromList:{},minPlayers:{default:2},maxPlayers:{default:4}},setup(r){const a=M(r.maxPlayers);return(d,s)=>(o(),l("div",de,[e("div",ce,[e("h3",ue,[c(n(L),{class:"w-5 h-5 text-blue-400"}),s[3]||(s[3]=f(" Discovery Mesh: Active Rooms ",-1))]),e("div",me,[c(G,{value:a.value,onChange:i=>a.value=i,min:r.minPlayers,max:r.maxPlayers},null,8,["value","onChange","min","max"]),e("div",pe,[e("button",{onClick:s[0]||(s[0]=i=>r.signalingClient?.requestOffers()),class:"h-10 px-4 text-[10px] font-black uppercase tracking-widest text-white/40 hover:text-white hover:bg-white/5 border border-white/5 rounded-xl transition-all"}," Rescan Network "),e("button",{onClick:s[1]||(s[1]=i=>r.onHostAGame(a.value)),class:"h-10 px-4 text-[10px] font-black uppercase tracking-widest bg-primary text-primary-foreground shadow-neon hover:shadow-[0_0_30px_rgba(16,185,129,0.4)] rounded-xl transition-all"}," Initialize Host ")])])]),r.isServerConnecting?(o(),l("div",xe,[...s[4]||(s[4]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"},null,-1),e("p",{class:"text-[10px] text-primary font-black uppercase tracking-[0.2em] animate-pulse"},"Synchronizing with global mesh...",-1)])])):r.availableOffers.length===0?(o(),l("div",he,[e("div",be,[c(n(W),{class:"w-10 h-10 text-white/20"})]),s[5]||(s[5]=e("p",{class:"text-xs text-white/30 uppercase font-black tracking-[0.2em]"},"Null Results: No active nodes found",-1)),e("button",{onClick:s[2]||(s[2]=i=>r.onHostAGame(a.value)),class:"mt-4 text-primary font-black uppercase tracking-widest text-[10px] hover:text-primary/70 transition-colors"}," Broadcasting first signal... ")])):(o(),l("div",ge,[(o(!0),l(w,null,y(r.availableOffers,i=>(o(),l("div",{key:i.boardId,class:"glass-dark p-8 flex items-center justify-between border border-white/5 rounded-[2.5rem] shadow-glass-dark hover:border-primary/20 transition-all duration-500 group"},[e("div",fe,[e("div",ve,p(i.peerName?.[0]||"?"),1),e("div",we,[e("p",ye,p(i.peerName)+"'s Instance",1),e("div",ke,[s[6]||(s[6]=e("span",{class:"flex h-2 w-2 rounded-full bg-primary shadow-neon animate-pulse"},null,-1)),e("p",_e,p(i.slots?.filter(t=>t.status==="open").length)+" Vectors Available ",1)])])]),e("div",Ce,[(o(!0),l(w,null,y(i.slots,t=>(o(),l("div",{key:t.connectionId,onClick:x=>t.status==="open"&&r.onJoinFromList(i,t),class:P(["h-12 w-12 rounded-full flex items-center justify-center border-2 transition-all duration-500",t.status==="open"?"border-primary/20 border-dashed cursor-pointer hover:border-primary hover:bg-primary/10 hover:shadow-neon-sm bg-primary/5":"border-white/5 bg-white/5 cursor-not-allowed opacity-30"]),title:t.status==="open"?"Join Game":`Occupied by ${t.peerName||"Entity"}`},[t.status==="open"?(o(),l("span",Pe,"JOIN")):(o(),l("div",$e,p(t.peerName?.[0]||"P"),1))],10,Se))),128))])]))),128))]))]))}}),Le=b(Me,[["__scopeId","data-v-2e9b923b"]]),Ge={class:"min-h-screen bg-background"},Ie={key:0,class:"max-w-7xl mx-auto p-6 space-y-12"},He={class:"text-3xl font-black tracking-tighter uppercase text-white"},Oe={class:"text-gradient"},Ae={class:"animate-fade-in-up"},Ne={key:1,class:"space-y-8"},je={key:1,class:"p-10 text-center text-white/50 uppercase font-black tracking-widest"},ze=h({__name:"GameLobbyView",setup(r){const u=$(),a=S(()=>u.params.gameId),d=S(()=>z(a.value||"")),{signalingMode:s,setSignalingMode:i,signalingClient:t,availableOffers:x,isServerConnecting:I,onJoinFromList:H}=J(),O=(C,m)=>H(a.value,C,m),{onHostAGame:_,connectWithOffer:A}=V();return(C,m)=>(o(),l("div",Ge,[d.value?(o(),l("div",Ie,[c(R),e("h1",He,[m[1]||(m[1]=f(" Lobby: ",-1)),e("span",Oe,p(d.value.name),1)]),e("div",Ae,[n(s)?g("",!0):(o(),v(X,{key:0,onSelectManual:()=>{n(i)("manual")},onSelectServer:()=>{n(i)("server")}},null,8,["onSelectManual","onSelectServer"])),n(s)?(o(),l("div",Ne,[e("button",{class:"mb-4 text-white/30 hover:text-primary hover:bg-primary/5 transition-all group font-black uppercase tracking-widest text-[10px] flex items-center gap-2 p-2 rounded-lg",onClick:m[0]||(m[0]=Be=>n(i)(null))},[c(n(D),{class:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),m[2]||(m[2]=f(" De-initialize Mode ",-1))]),n(s)==="manual"?(o(),v(le,{key:0,onHostAGame:n(_),connectWithOffer:n(A),minPlayers:d.value.minPlayers,maxPlayers:d.value.maxPlayers},null,8,["onHostAGame","connectWithOffer","minPlayers","maxPlayers"])):g("",!0),n(s)==="server"?(o(),v(Le,{key:1,isServerConnecting:n(I),availableOffers:n(x),signalingClient:n(t),onHostAGame:n(_),onJoinFromList:O,minPlayers:d.value.minPlayers,maxPlayers:d.value.maxPlayers},null,8,["isServerConnecting","availableOffers","signalingClient","onHostAGame","minPlayers","maxPlayers"])):g("",!0)])):g("",!0)])])):(o(),l("div",je," Game not found in grid. "))]))}}),De=b(ze,[["__scopeId","data-v-311047de"]]);export{De as default};
